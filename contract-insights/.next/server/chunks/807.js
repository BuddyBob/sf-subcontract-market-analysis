exports.id=807,exports.ids=[807],exports.modules={5125:(e,t,a)=>{"use strict";a.a(e,async(e,o)=>{try{a.d(t,{W:()=>Navigation});var r=a(997),n=a(6689),c=a(1664),s=a.n(c),i=a(9332),l=a(8532),d=a(250),u=a(1352),m=a(7232),S=a(802),h=a(3204),p=e([S,h]);[S,h]=p.then?(await p)():p;let f=[{name:"Overview",href:"/"},{name:"Concentration",href:"/concentration"},{name:"LBE Equity",href:"/lbe-equity"},{name:"Dominant Firms",href:"/dominant-firms"},{name:"Downloads",href:"/downloads"}];function Navigation({darkMode:e,setDarkMode:t}){let a=(0,i.usePathname)(),[o,c]=(0,n.useState)(!1);return(0,r.jsxs)("nav",{className:"sticky top-0 z-50 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:[r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between h-16",children:[r.jsx("div",{className:"flex items-center",children:(0,r.jsxs)(s(),{href:"/",className:"flex-shrink-0 flex items-center",children:[r.jsx("div",{className:"h-8 w-8 bg-primary rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-lg",children:"SF"})}),r.jsx("span",{className:"ml-2 text-xl font-semibold text-gray-900 dark:text-white",children:"Contract Insights"})]})}),r.jsx("div",{className:"hidden md:flex items-center space-x-8",children:f.map(e=>r.jsx(s(),{href:e.href,className:(0,h.cn)("px-3 py-2 rounded-md text-sm font-medium transition-colors",a===e.href?"bg-primary-100 text-primary-700 dark:bg-primary-800 dark:text-primary-200":"text-gray-500 hover:text-gray-700 dark:text-gray-300 dark:hover:text-white"),"aria-label":`Navigate to ${e.name}`,children:e.name},e.name))}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[r.jsx(S.z,{variant:"ghost",size:"icon",onClick:()=>t(!e),"aria-label":"Toggle dark mode",className:"hidden md:inline-flex",children:e?r.jsx(l.Z,{className:"h-5 w-5"}):r.jsx(d.Z,{className:"h-5 w-5"})}),r.jsx(S.z,{variant:"ghost",size:"icon",className:"md:hidden",onClick:()=>c(!o),"aria-label":"Toggle mobile menu",children:o?r.jsx(u.Z,{className:"h-5 w-5"}):r.jsx(m.Z,{className:"h-5 w-5"})})]})]})}),o&&r.jsx("div",{className:"md:hidden",children:(0,r.jsxs)("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:[f.map(e=>r.jsx(s(),{href:e.href,className:(0,h.cn)("block px-3 py-2 rounded-md text-base font-medium transition-colors",a===e.href?"bg-primary-100 text-primary-700 dark:bg-primary-800 dark:text-primary-200":"text-gray-500 hover:text-gray-700 dark:text-gray-300 dark:hover:text-white"),onClick:()=>c(!1),children:e.name},e.name)),r.jsx("div",{className:"px-3 py-2",children:r.jsx(S.z,{variant:"ghost",size:"sm",onClick:()=>t(!e),"aria-label":"Toggle dark mode",className:"w-full justify-start",children:e?(0,r.jsxs)(r.Fragment,{children:[r.jsx(l.Z,{className:"h-4 w-4 mr-2"}),"Light Mode"]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx(d.Z,{className:"h-4 w-4 mr-2"}),"Dark Mode"]})})})]})})]})}o()}catch(e){o(e)}})},5275:(e,t,a)=>{"use strict";a.d(t,{F:()=>useTheme,f:()=>ThemeProvider});var o=a(997),r=a(6689);let n=(0,r.createContext)(void 0);function ThemeProvider({children:e}){let[t,a]=(0,r.useState)(!1),[c,s]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{s(!0);let e=localStorage.getItem("theme");"dark"===e?a(!0):a(!1)},[]),(0,r.useEffect)(()=>{c&&(t?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light")))},[t,c]),c)?o.jsx(n.Provider,{value:{darkMode:t,setDarkMode:a},children:e}):o.jsx(o.Fragment,{children:e})}function useTheme(){let e=(0,r.useContext)(n);return void 0===e?{darkMode:!1,setDarkMode:()=>{}}:e}},802:(e,t,a)=>{"use strict";a.a(e,async(e,o)=>{try{a.d(t,{z:()=>i});var r=a(997),n=a(6689),c=a(3204),s=e([c]);c=(s.then?(await s)():s)[0];let i=n.forwardRef(({className:e,variant:t="default",size:a="default",...o},n)=>r.jsx("button",{className:(0,c.cn)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-danger text-white hover:bg-danger/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"}[t],{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}[a],e),ref:n,...o}));i.displayName="Button",o()}catch(e){o(e)}})},8628:(e,t,a)=>{"use strict";a.a(e,async(e,o)=>{try{a.d(t,{F:()=>DataProvider,e:()=>useData});var r=a(997),n=a(6689),c=a(7153),s=a.n(c),i=a(6201),l=a(7356),d=a(307),u=a(6017),m=a(9071),S=a(3204),h=e([i,S]);[i,S]=h.then?(await h)():h;let p=(0,n.createContext)(void 0);function DataProvider({children:e}){let[t,a]=(0,n.useState)(l.V),[o,c]=(0,n.useState)(d.n),[h,f]=(0,n.useState)(u.H),[g,b]=(0,n.useState)(m.R),[x,y]=(0,n.useState)(!0),[C,k]=(0,n.useState)(!0),loadCsvData=async e=>{try{let t=await fetch(e);if(!t.ok)throw Error(`Failed to fetch ${e}`);let a=await t.text();return new Promise((e,t)=>{s().parse(a,{header:!0,skipEmptyLines:!0,transform:(e,t)=>t?.includes("Amount")||t?.includes("HHI")||t?.includes("Count")||t?.includes("Dollars")||t?.includes("Rate")||t?.includes("Share")||t?.includes("Rank")||"Total_Subs"===t||"LBE_Count"===t||"ScopeTotalSub"===t||"ScopeHHI"===t||"NumSubcontractors"===t?(0,S.Dw)(e):e,complete:t=>{t.errors.length>0&&console.warn("CSV parsing warnings:",t.errors),e(t.data)},error:e=>t(e)})})}catch(t){throw console.error(`Error loading ${e}:`,t),t}};return(0,n.useEffect)(()=>{let loadAllData=async()=>{y(!0);let e=!1;try{try{let e=await loadCsvData("/data/market_concentration_hhi_consolidated.csv");e.length>0&&a(e)}catch(t){console.warn("Using fallback market concentration data"),e=!0}try{let e=await loadCsvData("/data/dominant_subcontractors_consolidated.csv");e.length>0&&c(e)}catch(t){console.warn("Using fallback dominant subcontractors data"),e=!0}try{let e=await loadCsvData("/data/lbe_scope_analysis_consolidated.csv");e.length>0&&f(e)}catch(t){console.warn("Using fallback LBE analysis data"),e=!0}try{let e=await loadCsvData("/data/scope_subcontractor_aggregation_consolidated.csv");e.length>0&&b(e)}catch(t){console.warn("Using fallback scope aggregation data"),e=!0}e?(k(!0),i.default.error("Full dataset not found, using sample data",{duration:4e3,position:"top-right"})):(k(!1),i.default.success("Full dataset loaded successfully",{duration:3e3,position:"top-right"}))}catch(e){console.error("Error loading data:",e),k(!0),i.default.error("Error loading data, using sample dataset",{duration:4e3,position:"top-right"})}finally{y(!1)}};loadAllData()},[]),r.jsx(p.Provider,{value:{marketConcentration:t,dominantSubcontractors:o,lbeAnalysis:h,scopeAggregation:g,isLoading:x,isUsingFallback:C},children:e})}function useData(){let e=(0,n.useContext)(p);if(void 0===e)throw Error("useData must be used within a DataProvider");return e}o()}catch(e){o(e)}})},307:(e,t,a)=>{"use strict";a.d(t,{n:()=>o});let o=[{ScopeOfWork:"Electrical Work (Consolidated)",SubcontractorName:"ABC Electrical Corp",TotalSubAmount:15e6,ContractsCount:5,ScopeTotalSub:35225329,ShareOfScope:.426,RankInScope:1},{ScopeOfWork:"Concrete Work (Consolidated)",SubcontractorName:"Premier Concrete Solutions",TotalSubAmount:125e5,ContractsCount:8,ScopeTotalSub:31040514,ShareOfScope:.403,RankInScope:1},{ScopeOfWork:"Pipeline & Sewer Work (Consolidated)",SubcontractorName:"Metro Pipeline Inc",TotalSubAmount:82e5,ContractsCount:6,ScopeTotalSub:22540072,ShareOfScope:.364,RankInScope:1},{ScopeOfWork:"Micro tunneling",SubcontractorName:"TunnelTech Systems",TotalSubAmount:185e5,ContractsCount:2,ScopeTotalSub:22171120,ShareOfScope:.834,RankInScope:1},{ScopeOfWork:"Traffic Control & Sawcutting (Consolidated)",SubcontractorName:"SafeWay Traffic Control",TotalSubAmount:61e5,ContractsCount:12,ScopeTotalSub:14276559,ShareOfScope:.427,RankInScope:1}]},6017:(e,t,a)=>{"use strict";a.d(t,{H:()=>o});let o=[{"Scope of Work":"Micro tunneling",LBE_Count:0,Total_Subs:7,LBE_Rate:0,Total_Dollars:22171120,LBE_Dollar_Share:0},{"Scope of Work":"Electrical, Communications, Electronic Safety and Security, Process Integration",LBE_Count:0,Total_Subs:1,LBE_Rate:0,Total_Dollars:18787407,LBE_Dollar_Share:0},{"Scope of Work":"Concrete",LBE_Count:10,Total_Subs:11,LBE_Rate:.909,Total_Dollars:8517016,LBE_Dollar_Share:.732},{"Scope of Work":"Items - 35, 36, 37, 38, 39, 40, 41, 42, 43",LBE_Count:0,Total_Subs:1,LBE_Rate:0,Total_Dollars:7040083,LBE_Dollar_Share:0},{"Scope of Work":"Water/sewer pipe install",LBE_Count:0,Total_Subs:1,LBE_Rate:0,Total_Dollars:6979884,LBE_Dollar_Share:0}]},7356:(e,t,a)=>{"use strict";a.d(t,{V:()=>o});let o=[{ScopeOfWork:"Electrical Work (Consolidated)",ScopeHHI:3342,NumSubcontractors:11,ScopeTotalSub:35225329,ConcentrationLevel:"Highly Concentrated"},{ScopeOfWork:"Concrete Work (Consolidated)",ScopeHHI:2013,NumSubcontractors:17,ScopeTotalSub:31040514,ConcentrationLevel:"Moderately Concentrated"},{ScopeOfWork:"Pipeline & Sewer Work (Consolidated)",ScopeHHI:1541,NumSubcontractors:15,ScopeTotalSub:22540072,ConcentrationLevel:"Moderately Concentrated"},{ScopeOfWork:"Micro tunneling",ScopeHHI:3681,NumSubcontractors:3,ScopeTotalSub:22171120,ConcentrationLevel:"Highly Concentrated"},{ScopeOfWork:"Traffic Control & Sawcutting (Consolidated)",ScopeHHI:1771,NumSubcontractors:14,ScopeTotalSub:14276559,ConcentrationLevel:"Moderately Concentrated"}]},9071:(e,t,a)=>{"use strict";a.d(t,{R:()=>o});let o=[{ScopeOfWork:"Electrical Work (Consolidated)",SubcontractorName:"ABC Electrical Corp",TotalSubAmount:15e6,ContractsCount:5,ScopeTotalSub:35225329,ShareOfScope:.426},{ScopeOfWork:"Electrical Work (Consolidated)",SubcontractorName:"Secondary Electric Co",TotalSubAmount:8e6,ContractsCount:3,ScopeTotalSub:35225329,ShareOfScope:.227},{ScopeOfWork:"Concrete Work (Consolidated)",SubcontractorName:"Premier Concrete Solutions",TotalSubAmount:125e5,ContractsCount:8,ScopeTotalSub:31040514,ShareOfScope:.403},{ScopeOfWork:"Pipeline & Sewer Work (Consolidated)",SubcontractorName:"Metro Pipeline Inc",TotalSubAmount:82e5,ContractsCount:6,ScopeTotalSub:22540072,ShareOfScope:.364},{ScopeOfWork:"Micro tunneling",SubcontractorName:"TunnelTech Systems",TotalSubAmount:185e5,ContractsCount:2,ScopeTotalSub:22171120,ShareOfScope:.834},{ScopeOfWork:"Traffic Control & Sawcutting (Consolidated)",SubcontractorName:"SafeWay Traffic Control",TotalSubAmount:61e5,ContractsCount:12,ScopeTotalSub:14276559,ShareOfScope:.427}]},3204:(e,t,a)=>{"use strict";a.a(e,async(e,o)=>{try{a.d(t,{Dw:()=>parseNumericValue,QX:()=>getLbeEquityColor,T3:()=>formatPercent,cn:()=>cn,xG:()=>formatCurrency});var r=a(6593),n=a(8097),c=e([r,n]);function cn(...e){return(0,n.twMerge)((0,r.clsx)(e))}function formatCurrency(e){let t=Number(e);return isNaN(t)||!isFinite(t)?"$0":t>=1e6?`$${(t/1e6).toFixed(1)}M`:t>=1e3?`$${(t/1e3).toFixed(0)}K`:`$${t.toLocaleString()}`}function formatPercent(e){let t=Number(e);return isNaN(t)||!isFinite(t)?"0.0%":`${(100*t).toFixed(1)}%`}function parseNumericValue(e){if("number"==typeof e)return e;if("string"==typeof e&&e.includes("-")){let t=e.split("-"),a=t[0].replace(/,/g,"");return parseFloat(a)||0}if("string"==typeof e){let t=e.replace(/,/g,"");return parseFloat(t)||0}return 0}function getLbeEquityColor(e){return e<.25?"text-danger-600 bg-danger-50":e>.75?"text-primary-600 bg-primary-50":"text-warning-600 bg-warning-50"}[r,n]=c.then?(await c)():c,o()}catch(e){o(e)}})},4807:(e,t,a)=>{"use strict";a.a(e,async(e,o)=>{try{a.r(t),a.d(t,{default:()=>App});var r=a(997),n=a(968),c=a.n(n);a(108);var s=a(8628),i=a(5275),l=a(5125),d=e([s,l]);function AppContent({Component:e,pageProps:t}){let{darkMode:a,setDarkMode:o}=(0,i.F)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(c(),{children:[r.jsx("title",{children:"SF Contract Insights - 2020 Subcontract Market Analysis"}),r.jsx("meta",{name:"description",content:"Interactive dashboard analyzing market concentration, LBE equity, and dominant firm patterns in San Francisco's 2020 subcontract marketplace."}),r.jsx("meta",{name:"keywords",content:"San Francisco, subcontract, market analysis, LBE, equity, concentration, dashboard"}),r.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),r.jsx("link",{rel:"icon",href:"/favicon.ico"})]}),(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[r.jsx(l.W,{darkMode:a,setDarkMode:o}),r.jsx("main",{children:r.jsx(e,{...t})})]})]})}function App(e){return r.jsx(i.f,{children:r.jsx(s.F,{children:r.jsx(AppContent,{...e})})})}[s,l]=d.then?(await d)():d,o()}catch(e){o(e)}})},108:()=>{}};