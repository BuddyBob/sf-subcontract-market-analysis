(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[683],{9640:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/lbe-equity",function(){return r(3087)}])},7738:function(e,t,r){"use strict";r.d(t,{Ol:function(){return n},Zb:function(){return d},aY:function(){return i},ll:function(){return c}});var a=r(5893),s=r(7294),l=r(7559);let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...s})});d.displayName="Card";let n=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",r),...s})});n.displayName="CardHeader";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("h3",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",r),...s})});c.displayName="CardTitle";let x=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("p",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",r),...s})});x.displayName="CardDescription";let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",r),...s})});i.displayName="CardContent";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",r),...s})});o.displayName="CardFooter"},3087:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return LbeEquityPage}});var a=r(5893),s=r(7294),l=r(9253),d=r(3604),n=r(6208),c=r(3815),x=r(4888),i=r(7738),o=r(9269),m=r(7559),h=r(9858),g=r(6942),p=r(9525),u=r(1932),y=r(7764);function LbeEquityPage(){let{lbeAnalysis:e,isLoading:t}=(0,o.e)(),[r,f]=(0,s.useState)("lbeShare"),[j,N]=(0,s.useState)("desc"),[b,k]=(0,s.useState)("");if(t)return(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-6"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,a.jsx)("div",{className:"h-96 bg-gray-200 rounded"}),(0,a.jsx)("div",{className:"h-96 bg-gray-200 rounded"})]})]});let v=e.reduce((e,t)=>e+t.Total_Dollars,0),w=e.reduce((e,t)=>e+t.Total_Dollars*t.LBE_Dollar_Share,0),S=v>0?w/v:0,_=e.reduce((e,t)=>e+t.LBE_Count,0),E=e.reduce((e,t)=>e+t.Total_Subs,0),L=E-_,B=v-w,C=[{name:"LBE Spend",value:w,color:"#00795C"},{name:"Non-LBE Spend",value:v-w,color:"#D92F2F"}],T=e.filter(e=>e.LBE_Dollar_Share<.25||e.LBE_Dollar_Share>.75).sort((e,t)=>e.LBE_Dollar_Share-t.LBE_Dollar_Share).slice(0,10);return e.filter(e=>e.Total_Dollars&&e.Total_Dollars>0).sort((e,t)=>t.Total_Dollars-e.Total_Dollars).slice(0,10).map(e=>({scope:e["Scope of Work"].length>30?e["Scope of Work"].substring(0,30)+"...":e["Scope of Work"],fullScope:e["Scope of Work"],lbeShare:Number(e.LBE_Dollar_Share)||0,totalSpend:Number(e.Total_Dollars)||0,lbeCount:Number(e.LBE_Count)||0,totalSubs:Number(e.Total_Subs)||0})),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 animate-fade-in",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"LBE Equity Analysis"}),(0,a.jsx)("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:"Local Business Enterprise participation and equity assessment"})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{children:[(0,a.jsx)(i.ll,{children:"Overall LBE Spend Distribution"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[(0,m.T3)(S)," LBE participation across all scopes"]})]}),(0,a.jsxs)(i.aY,{children:[(0,a.jsx)("div",{className:"chart-container",children:(0,a.jsx)(l.h,{width:"100%",height:"100%",children:(0,a.jsxs)(d.u,{children:[(0,a.jsx)(n.b,{data:C,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{cx:t,cy:r,midAngle:s,innerRadius:l,outerRadius:d,percent:n}=e;if(n<.05)return null;let c=Math.PI/180,x=l+(d-l)*.5,i=t+x*Math.cos(-s*c);return(0,a.jsx)("text",{x:i,y:r+x*Math.sin(-s*c),fill:"white",textAnchor:i>t?"start":"end",dominantBaseline:"central",fontSize:"14",fontWeight:"bold",children:"".concat((100*n).toFixed(1),"%")})},outerRadius:120,innerRadius:60,fill:"#8884d8",dataKey:"value",children:C.map((e,t)=>(0,a.jsx)(c.b,{fill:e.color},"cell-".concat(t)))}),(0,a.jsx)(x.u,{formatter:e=>[(0,m.xG)(e),"Amount"]})]})})}),(0,a.jsxs)("div",{className:"flex justify-center mt-4 space-x-6",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-primary-500 rounded-full mr-2"}),(0,a.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"LBE Spend"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-danger-500 rounded-full mr-2"}),(0,a.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Non-LBE Spend"})]})]})]})]})}),(0,a.jsxs)(i.Zb,{className:"mb-8",children:[(0,a.jsxs)(i.Ol,{children:[(0,a.jsxs)(i.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(h.Z,{className:"h-5 w-5 text-primary-600"}),"LBE vs Non-LBE Performance Comparison"]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Market share, contractor counts, and average contract sizes"})]}),(0,a.jsx)(i.aY,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsxs)("div",{className:"text-center p-4 bg-primary-50 dark:bg-primary-900/20 rounded-lg",children:[(0,a.jsx)("div",{className:"flex items-center justify-center mb-2",children:(0,a.jsx)(g.Z,{className:"h-6 w-6 text-primary-600"})}),(0,a.jsx)("div",{className:"text-2xl font-bold text-primary-800 dark:text-primary-200",children:(0,m.T3)(S)}),(0,a.jsx)("div",{className:"text-sm text-primary-600 dark:text-primary-300 font-medium",children:"LBE Market Share"}),(0,a.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[(0,m.xG)(w)," of ",(0,m.xG)(v)]})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-danger-50 dark:bg-danger-900/20 rounded-lg",children:[(0,a.jsx)("div",{className:"flex items-center justify-center mb-2",children:(0,a.jsx)(g.Z,{className:"h-6 w-6 text-danger-600"})}),(0,a.jsx)("div",{className:"text-2xl font-bold text-danger-800 dark:text-danger-200",children:(0,m.T3)(1-S)}),(0,a.jsx)("div",{className:"text-sm text-danger-600 dark:text-danger-300 font-medium",children:"Non-LBE Market Share"}),(0,a.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[(0,m.xG)(B)," of ",(0,m.xG)(v)]})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-secondary-50 dark:bg-secondary-900/20 rounded-lg",children:[(0,a.jsx)("div",{className:"flex items-center justify-center mb-2",children:(0,a.jsx)(p.Z,{className:"h-6 w-6 text-secondary-600"})}),(0,a.jsx)("div",{className:"text-2xl font-bold text-secondary-800 dark:text-secondary-200",children:_}),(0,a.jsx)("div",{className:"text-sm text-secondary-600 dark:text-secondary-300 font-medium",children:"LBE Contractors"}),(0,a.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[(0,m.T3)(_/E)," of total"]})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-warning-50 dark:bg-warning-900/20 rounded-lg",children:[(0,a.jsx)("div",{className:"flex items-center justify-center mb-2",children:(0,a.jsx)(p.Z,{className:"h-6 w-6 text-warning-600"})}),(0,a.jsx)("div",{className:"text-2xl font-bold text-warning-800 dark:text-warning-200",children:L}),(0,a.jsx)("div",{className:"text-sm text-warning-600 dark:text-warning-300 font-medium",children:"Non-LBE Contractors"}),(0,a.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[(0,m.T3)(L/E)," of total"]})]})]})})]}),(0,a.jsxs)(i.Zb,{className:"mb-8",children:[(0,a.jsxs)(i.Ol,{children:[(0,a.jsx)(i.ll,{children:"All Scopes LBE Participation"}),(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Complete overview of LBE participation across all ",e.length," scopes"]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("label",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Sort by:"}),(0,a.jsxs)("select",{value:r,onChange:e=>f(e.target.value),className:"text-sm bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded px-2 py-1",children:[(0,a.jsx)("option",{value:"lbeShare",children:"LBE Share"}),(0,a.jsx)("option",{value:"totalSpend",children:"Total Spend"}),(0,a.jsx)("option",{value:"lbeCount",children:"LBE Count"}),(0,a.jsx)("option",{value:"scope",children:"Scope Name"})]}),(0,a.jsxs)("button",{onClick:()=>N("asc"===j?"desc":"asc"),className:"flex items-center gap-1 px-2 py-1 text-sm bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",children:[(0,a.jsx)(u.Z,{className:"h-3 w-3"}),"desc"===j?"Desc":"Asc"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 max-w-md",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)(y.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,a.jsx)("input",{type:"text",placeholder:"Search scopes...",value:b,onChange:e=>k(e.target.value),className:"w-full pl-10 pr-4 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),b&&(0,a.jsx)("button",{onClick:()=>k(""),className:"px-3 py-2 text-sm text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white",children:"Clear"})]})]})]}),(0,a.jsx)(i.aY,{children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-sm",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[(0,a.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900 dark:text-white",children:"Scope of Work"}),(0,a.jsx)("th",{className:"text-center py-3 px-4 font-medium text-gray-900 dark:text-white",children:"LBE Share"}),(0,a.jsx)("th",{className:"text-center py-3 px-4 font-medium text-gray-900 dark:text-white",children:"LBE Count"}),(0,a.jsx)("th",{className:"text-center py-3 px-4 font-medium text-gray-900 dark:text-white",children:"Total Subs"}),(0,a.jsx)("th",{className:"text-right py-3 px-4 font-medium text-gray-900 dark:text-white",children:"Total Spend"})]})}),(0,a.jsx)("tbody",{children:e.filter(e=>e["Scope of Work"].toLowerCase().includes(b.toLowerCase())).sort((e,t)=>{let a,s;switch(r){case"lbeShare":default:a=e.LBE_Dollar_Share||0,s=t.LBE_Dollar_Share||0;break;case"totalSpend":a=e.Total_Dollars||0,s=t.Total_Dollars||0;break;case"lbeCount":a=e.LBE_Count||0,s=t.LBE_Count||0;break;case"scope":a=e["Scope of Work"],s=t["Scope of Work"]}return"string"==typeof a&&"string"==typeof s?"desc"===j?s.localeCompare(a):a.localeCompare(s):"desc"===j?s-a:a-s}).map((e,t)=>(0,a.jsxs)("tr",{className:"border-b border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800",children:[(0,a.jsx)("td",{className:"py-3 px-4 text-gray-900 dark:text-white",children:e["Scope of Work"]}),(0,a.jsx)("td",{className:"py-3 px-4 text-center",children:(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat((0,m.QX)(e.LBE_Dollar_Share)),children:(0,m.T3)(e.LBE_Dollar_Share||0)})}),(0,a.jsx)("td",{className:"py-3 px-4 text-center text-gray-600 dark:text-gray-300",children:e.LBE_Count||0}),(0,a.jsx)("td",{className:"py-3 px-4 text-center text-gray-600 dark:text-gray-300",children:e.Total_Subs||0}),(0,a.jsx)("td",{className:"py-3 px-4 text-right text-gray-600 dark:text-gray-300",children:(0,m.xG)(e.Total_Dollars||0)})]},t))})]})})})]}),(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{children:[(0,a.jsx)(i.ll,{children:"Scopes Requiring Attention"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Scopes with very low (<25%) or very high (>75%) LBE participation"})]}),(0,a.jsx)(i.aY,{children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-sm",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[(0,a.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900 dark:text-white",children:"Scope of Work"}),(0,a.jsx)("th",{className:"text-center py-3 px-4 font-medium text-gray-900 dark:text-white",children:"LBE Share"}),(0,a.jsx)("th",{className:"text-center py-3 px-4 font-medium text-gray-900 dark:text-white",children:"LBE Count"}),(0,a.jsx)("th",{className:"text-center py-3 px-4 font-medium text-gray-900 dark:text-white",children:"Total Subs"}),(0,a.jsx)("th",{className:"text-right py-3 px-4 font-medium text-gray-900 dark:text-white",children:"Total Spend"})]})}),(0,a.jsx)("tbody",{children:T.map((e,t)=>(0,a.jsxs)("tr",{className:"border-b border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800",children:[(0,a.jsx)("td",{className:"py-3 px-4 text-gray-900 dark:text-white",children:e["Scope of Work"]}),(0,a.jsx)("td",{className:"py-3 px-4 text-center",children:(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat((0,m.QX)(e.LBE_Dollar_Share)),children:(0,m.T3)(e.LBE_Dollar_Share)})}),(0,a.jsx)("td",{className:"py-3 px-4 text-center text-gray-600 dark:text-gray-300",children:e.LBE_Count}),(0,a.jsx)("td",{className:"py-3 px-4 text-center text-gray-600 dark:text-gray-300",children:e.Total_Subs}),(0,a.jsx)("td",{className:"py-3 px-4 text-right text-gray-600 dark:text-gray-300",children:(0,m.xG)(e.Total_Dollars)})]},t))})]})})})]})]})}}},function(e){e.O(0,[302,501,774,888,179],function(){return e(e.s=9640)}),_N_E=e.O()}]);