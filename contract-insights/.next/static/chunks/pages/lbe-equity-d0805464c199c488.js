(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[683],{9640:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/lbe-equity",function(){return r(3087)}])},7738:function(e,t,r){"use strict";r.d(t,{Ol:function(){return n},Zb:function(){return d},aY:function(){return x},ll:function(){return c}});var a=r(5893),s=r(7294),l=r(7559);let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...s})});d.displayName="Card";let n=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",r),...s})});n.displayName="CardHeader";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("h3",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",r),...s})});c.displayName="CardTitle";let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("p",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",r),...s})});i.displayName="CardDescription";let x=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",r),...s})});x.displayName="CardContent";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",r),...s})});o.displayName="CardFooter"},3087:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return LbeEquityPage}});var a=r(5893);r(7294);var s=r(9253),l=r(3604),d=r(6208),n=r(3815),c=r(4888),i=r(7738),x=r(9269),o=r(7559);function LbeEquityPage(){let{lbeAnalysis:e,isLoading:t}=(0,x.e)();if(t)return(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-6"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,a.jsx)("div",{className:"h-96 bg-gray-200 rounded"}),(0,a.jsx)("div",{className:"h-96 bg-gray-200 rounded"})]})]});let r=e.reduce((e,t)=>e+t.Total_Dollars,0),h=e.reduce((e,t)=>e+t.Total_Dollars*t.LBE_Dollar_Share,0),m=[{name:"LBE Spend",value:h,color:"#00795C"},{name:"Non-LBE Spend",value:r-h,color:"#D92F2F"}],p=e.filter(e=>e.LBE_Dollar_Share<.25||e.LBE_Dollar_Share>.75).sort((e,t)=>e.LBE_Dollar_Share-t.LBE_Dollar_Share).slice(0,10);return e.filter(e=>e.Total_Dollars&&e.Total_Dollars>0).sort((e,t)=>t.Total_Dollars-e.Total_Dollars).slice(0,10).map(e=>({scope:e["Scope of Work"].length>30?e["Scope of Work"].substring(0,30)+"...":e["Scope of Work"],fullScope:e["Scope of Work"],lbeShare:Number(e.LBE_Dollar_Share)||0,totalSpend:Number(e.Total_Dollars)||0,lbeCount:Number(e.LBE_Count)||0,totalSubs:Number(e.Total_Subs)||0})),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 animate-fade-in",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"LBE Equity Analysis"}),(0,a.jsx)("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:"Local Business Enterprise participation and equity assessment"})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{children:[(0,a.jsx)(i.ll,{children:"Overall LBE Spend Distribution"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[(0,o.T3)(r>0?h/r:0)," LBE participation across all scopes"]})]}),(0,a.jsxs)(i.aY,{children:[(0,a.jsx)("div",{className:"chart-container",children:(0,a.jsx)(s.h,{width:"100%",height:"100%",children:(0,a.jsxs)(l.u,{children:[(0,a.jsx)(d.b,{data:m,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{cx:t,cy:r,midAngle:s,innerRadius:l,outerRadius:d,percent:n}=e;if(n<.05)return null;let c=Math.PI/180,i=l+(d-l)*.5,x=t+i*Math.cos(-s*c);return(0,a.jsx)("text",{x:x,y:r+i*Math.sin(-s*c),fill:"white",textAnchor:x>t?"start":"end",dominantBaseline:"central",fontSize:"14",fontWeight:"bold",children:"".concat((100*n).toFixed(1),"%")})},outerRadius:120,innerRadius:60,fill:"#8884d8",dataKey:"value",children:m.map((e,t)=>(0,a.jsx)(n.b,{fill:e.color},"cell-".concat(t)))}),(0,a.jsx)(c.u,{formatter:e=>[(0,o.xG)(e),"Amount"]})]})})}),(0,a.jsxs)("div",{className:"flex justify-center mt-4 space-x-6",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-primary-500 rounded-full mr-2"}),(0,a.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"LBE Spend"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-danger-500 rounded-full mr-2"}),(0,a.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Non-LBE Spend"})]})]})]})]})}),(0,a.jsxs)(i.Zb,{className:"mb-8",children:[(0,a.jsxs)(i.Ol,{children:[(0,a.jsx)(i.ll,{children:"All Scopes LBE Participation"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Complete overview of LBE participation across all ",e.length," scopes, sorted by LBE share"]})]}),(0,a.jsx)(i.aY,{children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-sm",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[(0,a.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900 dark:text-white",children:"Scope of Work"}),(0,a.jsx)("th",{className:"text-center py-3 px-4 font-medium text-gray-900 dark:text-white",children:"LBE Share"}),(0,a.jsx)("th",{className:"text-center py-3 px-4 font-medium text-gray-900 dark:text-white",children:"LBE Count"}),(0,a.jsx)("th",{className:"text-center py-3 px-4 font-medium text-gray-900 dark:text-white",children:"Total Subs"}),(0,a.jsx)("th",{className:"text-right py-3 px-4 font-medium text-gray-900 dark:text-white",children:"Total Spend"})]})}),(0,a.jsx)("tbody",{children:e.sort((e,t)=>(t.LBE_Dollar_Share||0)-(e.LBE_Dollar_Share||0)).map((e,t)=>(0,a.jsxs)("tr",{className:"border-b border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800",children:[(0,a.jsx)("td",{className:"py-3 px-4 text-gray-900 dark:text-white",children:e["Scope of Work"]}),(0,a.jsx)("td",{className:"py-3 px-4 text-center",children:(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat((0,o.QX)(e.LBE_Dollar_Share)),children:(0,o.T3)(e.LBE_Dollar_Share||0)})}),(0,a.jsx)("td",{className:"py-3 px-4 text-center text-gray-600 dark:text-gray-300",children:e.LBE_Count||0}),(0,a.jsx)("td",{className:"py-3 px-4 text-center text-gray-600 dark:text-gray-300",children:e.Total_Subs||0}),(0,a.jsx)("td",{className:"py-3 px-4 text-right text-gray-600 dark:text-gray-300",children:(0,o.xG)(e.Total_Dollars||0)})]},t))})]})})})]}),(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{children:[(0,a.jsx)(i.ll,{children:"Scopes Requiring Attention"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Scopes with very low (<25%) or very high (>75%) LBE participation"})]}),(0,a.jsx)(i.aY,{children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-sm",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[(0,a.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900 dark:text-white",children:"Scope of Work"}),(0,a.jsx)("th",{className:"text-center py-3 px-4 font-medium text-gray-900 dark:text-white",children:"LBE Share"}),(0,a.jsx)("th",{className:"text-center py-3 px-4 font-medium text-gray-900 dark:text-white",children:"LBE Count"}),(0,a.jsx)("th",{className:"text-center py-3 px-4 font-medium text-gray-900 dark:text-white",children:"Total Subs"}),(0,a.jsx)("th",{className:"text-right py-3 px-4 font-medium text-gray-900 dark:text-white",children:"Total Spend"})]})}),(0,a.jsx)("tbody",{children:p.map((e,t)=>(0,a.jsxs)("tr",{className:"border-b border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800",children:[(0,a.jsx)("td",{className:"py-3 px-4 text-gray-900 dark:text-white",children:e["Scope of Work"]}),(0,a.jsx)("td",{className:"py-3 px-4 text-center",children:(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat((0,o.QX)(e.LBE_Dollar_Share)),children:(0,o.T3)(e.LBE_Dollar_Share)})}),(0,a.jsx)("td",{className:"py-3 px-4 text-center text-gray-600 dark:text-gray-300",children:e.LBE_Count}),(0,a.jsx)("td",{className:"py-3 px-4 text-center text-gray-600 dark:text-gray-300",children:e.Total_Subs}),(0,a.jsx)("td",{className:"py-3 px-4 text-right text-gray-600 dark:text-gray-300",children:(0,o.xG)(e.Total_Dollars)})]},t))})]})})})]})]})}}},function(e){e.O(0,[490,604,774,888,179],function(){return e(e.s=9640)}),_N_E=e.O()}]);